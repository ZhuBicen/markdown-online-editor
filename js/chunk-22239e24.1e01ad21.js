(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22239e24"],{"026c":function(t,e,n){},6826:function(t,e,n){"use strict";var r=n("026c"),a=n.n(r);a.a},"9dc0":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"preview-vditor",attrs:{"element-loading-text":"正在努力，请稍候..."}},[n("div",{staticClass:"vditor-preview",attrs:{id:"j-preview-vditor"}})])},a=[],i=n("ff41"),o=n.n(i),c={name:"PreviewVditor",data:function(){return{isLoading:!0}},props:{pdata:{type:String,required:!0,default:""}},created:function(){this.$utils.updateHtmlStyle()},components:{},mounted:function(){this.initVditor(),this.$utils.hideVditorTextarea()},methods:{initVditor:function(){var t=this,e={width:"61.8%",mode:"sv",preview:{delay:1e3,show:!0}};this.vditor=new o.a("j-preview-vditor",e);try{this.vditor.setValue(this.pdata)}catch(n){console.log("Something Error: ",n)}this.$nextTick((function(){t.isLoading=!1}))}}},d=c,u=(n("6826"),n("0c7c")),s=Object(u["a"])(d,r,a,!1,null,null,null);e["a"]=s.exports},e103:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"export-page"},[n("div",{staticClass:"button-group"},[n("el-button",{attrs:{round:""},on:{click:t.onBackToMainPage}},[t._v("返回主页")]),n("el-button",{attrs:{round:"",type:"primary"},on:{click:t.onExportBtnClick}},[t._v("生成导出")])],1),n("PreviewVditor",{attrs:{pdata:t.pdata}})],1)},a=[],i=(n("96cf"),n("3b8d")),o=(n("a481"),n("c0e9")),c=n.n(o),d=n("0132"),u=n.n(d),s=960,l=800,p=50,h=80,v=6,m=0,f=40,g=50,w="rgba(0, 0, 0, 0.21)";function x(t,e){var n=document.createElement("canvas");n.width=s*e,n.height=l*e;var r=n.getContext("2d"),a=v*e,i=a,o=0,c=i+n.width-2*a,d=o,u=c+a,p=a,h=u,m=p+n.height-2*a,f=c,g=m+a,w=i,x=g,C=w-a,T=m,b=C,k=p;return r.beginPath(),r.moveTo(i,o),r.lineTo(c,d),r.quadraticCurveTo(u,d,u,p),r.lineTo(h,m),r.quadraticCurveTo(h,g,f,g),r.lineTo(w,x),r.quadraticCurveTo(C,x,C,T),r.lineTo(b,k),r.quadraticCurveTo(b,o,i,o),r.clip(),r.drawImage(t,0,0),n}function C(t){var e=document.createElement("canvas");e.width=t.width+p,e.height=t.height+h;var n=e.getContext("2d");return n.shadowOffsetX=m,n.shadowOffsetY=f,n.shadowBlur=g,n.shadowColor=w,n.drawImage(t,p/2,0),e}var T=function(t){for(var e=[],n=[],r=t.querySelectorAll("svg"),a=0,i=r.length;a<i;a++){var o=r[a],c=o.parentNode,d=c.innerHTML,s=document.createElement("canvas");u()(s,d),e.push({parent:c,child:o}),c.removeChild(o),n.push({parent:c,child:s}),c.appendChild(s)}},b=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return T(e),n=getComputedStyle(e),s=+n.width.replace("px",""),l=+n.height.replace("px",""),r=window.devicePixelRatio,a={scale:r,allowTaint:!0,backgroundColor:"#fefefe"},t.next=8,c()(e,a);case 8:return i=t.sent,o=x(i,r),t.abrupt("return",C(o));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=n("9dc0"),E={name:"export-image",data:function(){return{isLoading:!0,pdata:localStorage.getItem("vditorvditor")}},created:function(){},components:{PreviewVditor:k["a"]},mounted:function(){},updated:function(){},methods:{exportAndDownloadImg:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,n){var r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:r=t.sent,a="download"in document.createElement("a"),a&&(i=document.createElement("a"),i.download=n,i.href=r.toDataURL(),i.click()),this.isLoading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),onBackToMainPage:function(){this.$router.push("/")},onExportBtnClick:function(){this.isLoading=!0;var t=document.getElementsByClassName("vditor-preview")[0],e=this.$utils.getExportFileName();this.exportAndDownloadImg(t,e)}}},y=E,L=n("0c7c"),P=Object(L["a"])(y,r,a,!1,null,null,null);e["default"]=P.exports}}]);